<div class="card">
    <div class="card-header text-center">
        <h2>Gestor de Usuarios - Luis Enrique Flores</h2>
    </div>
    <div class="card-body">
        <div class="container-fluid">
            <div class="tableContent">
              <table class="table table-striped table-hover">
                <thead>
                  <th>Id</th>
                  <th>Nombres</th>
                  <th>Correo </th>
                  <th>Contraseña</th>
                  <th>Roles</th>
                <th>Editar</th>
                <th>Eliminar</th>
                </thead>
                <tbody>
                  <tr *ngFor="let usuario of lista_usuarios">
                      <td>{{usuario.usuario_id}}</td>
                      <td>{{usuario.nombres}}</td>
                      <td>{{usuario.correo}}</td>
                      <td>{{usuario.contrasena}}</td>
                      <td>
                          <button type="button" class="btn btn-warning"  (click)="abrirModalVerRoles(modalVerRoles, usuario)"><i class="fa fa-users"></i></button>
                      </td>
                      <td>
                        <button type="button" class="btn btn-success"  (click)="abrirModalEditarUsuario(modalEditaUsuario, usuario)"><i class="fa fa-pencil-square-o" aria-hidden="true"></i></button>
                      </td>
                      <td>
                        <button type="button" class="btn btn-danger" (click)="confirmarEliminacion(modalConfirmarBorrar, usuario)"><i class="fa fa-trash"></i></button>
                      </td>

                  </tr>
                </tbody>
              </table>
            </div>
          </div>
    </div>
</div>

<ng-template #modalConfirmarBorrar let-c="close" let-d="dismiss">
    <div class="modal-header d-flex align-items-center">
      <span class="h5 m-0"
        ><i class="fa fa-exclamation-triangle" aria-hidden="true"></i>&nbsp;¿ELIMINAR A {{this.nombre_tmp}}?</span
      >
      <button
        type="button"
        class="btn btn-outline-success btn-lg"
        (click)="c('SI')"
      >SI</button>
      <button
        type="button"
        class="btn btn-outline-secondary btn-lg"
        (click)="c('NO')"
      >NO</button>
    </div>
</ng-template>

<ng-template #modalEditaUsuario let-c="close" let-d="dismiss">
    <div class="modal-body">
        <app-usuario-edit [usuarioSeleccionado]="usuarioSeleccionado"></app-usuario-edit>
    </div>
    <div class="modal-footer">
      <button
        type="button"
        class="btn btn-outline-secondary btn-lg"
        (click)="c('Close')"
      >
        Cerrar
      </button>
    </div>
  </ng-template>
  <ng-template #modalVerRoles let-c="close" let-d="dismiss">
    <div class="modal-body">
        <app-lista-roles-usuario [usuarioSeleccionadoRoles]="usuarioSeleccionado"></app-lista-roles-usuario>
    </div>
    <div class="modal-footer">
      <button
        type="button"
        class="btn btn-outline-secondary btn-lg"
        (click)="c('Close')"
      >
        Cerrar
      </button>
    </div>
  </ng-template>
